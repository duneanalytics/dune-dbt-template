# Example profiles.yml for dbt-trino
# Copy this file to ~/.dbt/profiles.yml and configure with your connection details

dbt_template:
  target: dev  # Default target (use dev for local development)
  outputs:
    # Development target - creates schemas with your personal prefix
    # Example: If model has schema='example', creates 'your_name_example'
    dev:
      type: trino
      method: ldap  # Options: ldap, kerberos, jwt, certificate, oauth, oauth_console, none
      host: your-trino-host.example.com  # e.g., mycluster.mydomain.com
      port: 443
      database: your_catalog  # The catalog name in Trino
      schema: your_name  # Your personal schema prefix (e.g., alice, bob, jeff_dev)
      user: your_username  # Format: user.name or user.name@domain.com
      password: your_password  # Required for ldap method
      threads: 4  # Number of parallel threads for dbt
      
      # Optional: Session properties
      # session_properties:
      #   query_max_run_time: 4h
    
    # Production target - uses exact schema names from model configs
    # Example: If model has schema='example', creates 'example' (no prefix)
    prod:
      type: trino
      method: ldap
      host: your-trino-host.example.com
      port: 443
      database: your_catalog
      schema: dbt_prod  # Fallback schema for models without custom schema config
      user: your_username
      password: your_password
      threads: 16  # More threads for production
      
      # Optional: Session properties
      # session_properties:
      #   query_max_run_time: 12h

# For other authentication methods, see:
# https://docs.getdbt.com/docs/core/connect-data-platform/trino-setup

# Usage:
# - Local development: dbt run (uses 'dev' target by default)
# - Production: dbt run --target prod
# - Override target: DBT_TARGET=prod dbt run
