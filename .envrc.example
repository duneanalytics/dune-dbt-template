# direnv configuration for dune-dbt-template
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to .envrc: cp .envrc.example .envrc
# 2. Update all the placeholder values with your actual credentials
# 3. Run: direnv allow

# Check if virtual environment exists, if not create it with uv
if [ ! -d ".venv" ]; then
  echo "Creating virtual environment and installing dependencies with uv..."
  uv sync
fi

# Activate the uv virtual environment
source .venv/bin/activate

# DBT Template Profile (old: direct access, to be removed when API profile is fully tested)
export DBT_TEMPLATE_OLD_USER=your_username_here
export DBT_TEMPLATE_OLD_PASSWORD=your_trino_password_here
export DBT_TEMPLATE_OLD_HOST=trino-hostname.example.com
export DBT_TEMPLATE_OLD_SCHEMA=dbt_your_name
export DBT_TEMPLATE_OLD_ROUTING_GROUP=your-routing-group
export DBT_TEMPLATE_OLD_EXTRA_CREDENTIAL=your_extra_credential_here

# DBT Template API Profile (new: dune connectivity, api)
export DBT_TEMPLATE_USER=dune # default user name for all use cases
export DBT_TEMPLATE_API_KEY=your_dune_api_key_here # unique API key from your own Dune team settings
export DBT_TEMPLATE_HOST=dune-api-trino.dune.com
export DBT_TEMPLATE_CATALOG=delta_prod
export DBT_TEMPLATE_SCHEMA=your_dune_team_name

# DEV_SCHEMA_SUFFIX is used to add a suffix to the schema name for dev/CI deployments
export DEV_SCHEMA_SUFFIX=your_name_or_project_here # this value can be anything, it's meant to be a suffix on schema names to help differentiate from prod or other developer work