# direnv configuration for dune-dbt-template
#
# SETUP INSTRUCTIONS:
# 1. Copy this file to .envrc: cp .envrc.example .envrc
# 2. Update all the placeholder values with your actual credentials
# 3. Run: direnv allow

# Check if virtual environment exists, if not create it with uv
if [ ! -d ".venv" ]; then
  echo "Creating virtual environment and installing dependencies with uv..."
  uv sync
fi

# Activate the uv virtual environment
source .venv/bin/activate

# DBT Template Profile (old: direct access, to be removed when API profile is fully tested)
export DBT_TEMPLATE_PASSWORD=your_trino_password_here
export DBT_TEMPLATE_EXTRA_CREDENTIAL=your_extra_credential_here
export DBT_TEMPLATE_USER=your_username_here
export DBT_TEMPLATE_HOST=trino-hostname.example.com
export DBT_TEMPLATE_SCHEMA=dbt_your_name
export DBT_TEMPLATE_ROUTING_GROUP=your-routing-group

# DBT Template API Profile (new: dune connectivity, api)
export DBT_TEMPLATE_API_KEY=your_dune_api_key_here
export DBT_TEMPLATE_API_USER=dune
export DBT_TEMPLATE_API_HOST=dune-api-trino.dune.com
export DBT_TEMPLATE_API_SCHEMA=dune
export DBT_TEMPLATE_API_CATALOG=delta_prod